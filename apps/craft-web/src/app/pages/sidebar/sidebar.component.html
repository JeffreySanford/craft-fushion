<!-- sidebar.component.html -->
<mat-drawer-container class="sidenav-container">
  <mat-drawer #drawer 
             [mode]="isSmallScreen ? 'over' : 'side'"
             [opened]="!isSmallScreen" 
             class="sidenav"
             [class.expanded]="isExpanded">
    
    <mat-nav-list>
      <!-- Main menu items -->
      <div *ngFor="let item of menuItems" 
           class="menu-item">
        <a mat-list-item
           [routerLink]="item.routerLink"
           [ngClass]="{ active: item.active }"
           (click)="setActive(item)">
          <!-- Always show icon -->
          <mat-icon>{{item.icon}}</mat-icon>
          <!-- Show label only when expanded -->
          <span class="menu-text" *ngIf="isExpanded">{{item.label}}</span>
        </a>
      </div>
    </mat-nav-list>
  </mat-drawer>

  <mat-drawer-content>
    <mat-toolbar>
      <button mat-icon-button (click)="toggleMenu()">
        <mat-icon>{{ isExpanded ? 'menu_open' : 'menu' }}</mat-icon>
      </button>
    </mat-toolbar>
    <ng-content></ng-content>
  </mat-drawer-content>
</mat-drawer-container>